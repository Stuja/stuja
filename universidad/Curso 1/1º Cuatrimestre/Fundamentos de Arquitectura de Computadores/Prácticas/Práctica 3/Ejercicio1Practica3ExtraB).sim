IN 00;
MOV l, a;

LXI b, 00FD;
NDATO: INR e;
INX b;
DCR l;
JZ FIN;
LDAX b;
MOV d, a;
IN 01;
CMP d;
JZ POSICIONAR;
JMP NDATO;

POSICIONAR: mov h, e;
JMP NDATO

FIN: MOV d, h;
MVI a, 00;
ADD h;
JZ FINSINDATO;
MOV a, d;
OUT 02;
HLT;

FINSINDATO: INX b;
IN 00;
ADI 01;
OUT 00;
OUT 02;
IN 01;
STAX b;
MVI A, 01;
OUT 03;
HLT;